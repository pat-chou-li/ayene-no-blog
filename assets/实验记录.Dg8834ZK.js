import{_}from"./ValaxyMain.vue_vue_type_style_index_0_lang.BroTQeye.js";import"./chunks/@vueuse/motion.CDGXpttC.js";import{e as u,u as d,a as h}from"./chunks/vue-router.DlUPz4t8.js";import{aa as y,ap as l,ag as s,af as a,ai as e,O as b,ab as f,a1 as z}from"./framework.BWK1Zvdg.js";import"./app.5Pc5wqE0.js";import"./chunks/dayjs.BldX5ftQ.js";import"./chunks/vue-i18n.lF0SUo7_.js";import"./chunks/pinia.BYsrTFz1.js";/* empty css                    */import"./chunks/nprogress.DxEoPAls.js";import"./YunComment.vue_vue_type_style_index_0_lang.BTzG1k4p.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.DB3O5jFY.js";import"./post.B8Hql8K0.js";const k="/ayene-no-blog/assets/image-20240315171957416.D89-Jj1P.png",x="/ayene-no-blog/assets/image-20240315172209878.C9LDzU6n.png",P="/ayene-no-blog/assets/image-20240315172234784.CGTc34s6.png",w="/ayene-no-blog/assets/image-20240315172434923.D6xDyHNP.png",N="/ayene-no-blog/assets/image-20240315171244777.B-TrqTC_.png",S="/ayene-no-blog/assets/image-20240315171112343.BkFz3EPp.png",B="/ayene-no-blog/assets/image-20240315171233669.xRmweWgt.png",D="/ayene-no-blog/assets/image-20240315175654257.BS9BH0rs.png",$="/ayene-no-blog/assets/image-20240315175846025.D9UJemmI.png",v="/ayene-no-blog/assets/image-20240315175727120.BZfx9PEw.png",R="/ayene-no-blog/assets/image-20240315175250543.SFrDH_Ia.png",C="/ayene-no-blog/assets/image-20240315175949889.CgLl_sXT.png",G="/ayene-no-blog/assets/image-20240315180133640.Ps07U1xj.png",U="/ayene-no-blog/assets/image-20240316155229698.CL2y58md.png",M="/ayene-no-blog/assets/image-20240316164913933.CZctAB1_.png",A="/ayene-no-blog/assets/image-20240318195817687.BeMPnWuY.png",L="/ayene-no-blog/assets/image-20240328132222444.D18tfBKa.png",J="/ayene-no-blog/assets/image-20240328205135172.CLJN7JSL.png",T="/ayene-no-blog/assets/image-20240717150730592.DqyhJRYG.png",I="/ayene-no-blog/assets/image-20240717150751455.DVhtHbuM.png",F="/ayene-no-blog/assets/image-20240717174812942.BD_Rx-LZ.png",H="/ayene-no-blog/assets/image-20240717174801389.JlhxSN8r.png",V="/ayene-no-blog/assets/image-20240717174841456.CO16fISR.png",W="/ayene-no-blog/assets/image-20240717172840806.DlyMpKX2.png",j="/ayene-no-blog/assets/image-20240717175332149.CGh_W6kG.png",q="/ayene-no-blog/assets/image-20240717172857682.ibxht5JX.png",O="/ayene-no-blog/assets/image-20240717172906683.BI41NRHW.png",X="/ayene-no-blog/assets/image-20240717173539848.ChRV7aEe.png",E="/ayene-no-blog/assets/image-20240717173259290.pYcTG5gW.png",Y="/ayene-no-blog/assets/image-20240717173331420.DRsapgNr.png",Z="/ayene-no-blog/assets/image-20240717173346763.BsXPBjU_.png",K="/ayene-no-blog/assets/image-20240717173553536.3ypG6c7z.png",Q=u("/posts/实验记录",async t=>JSON.parse('{"title":"实验记录","description":"","frontmatter":{"title":"实验记录","date":"2023.11.1","categories":"实验记录","tags":["图形学","NeRF","3DGS"]},"headers":[],"relativePath":"pages/posts/实验记录.md","lastUpdated":1755853346000}'),{lazy:(t,o)=>t.name===o.name}),da={__name:"实验记录",setup(t,{expose:o}){const{data:r}=Q(),g=h(),p=d(),i=Object.assign(p.meta.frontmatter||{},r.value?.frontmatter||{});return g.currentRoute.value.data=r.value,z("valaxy:frontmatter",i),globalThis.$frontmatter=i,o({frontmatter:{title:"实验记录",date:"2023.11.1",categories:"实验记录",tags:["图形学","NeRF","3DGS"]}}),(n,m)=>{const c=_;return f(),y(c,{frontmatter:b(i)},{"main-content-md":l(()=>[...m[0]||(m[0]=[a("h2",{id:"_2024-3-15",tabindex:"-1"},[e("2024.3.15 "),a("a",{class:"header-anchor",href:"#_2024-3-15","aria-label":'Permalink to "2024.3.15"'},"​")],-1),a("p",null,"首先是发现了psnr在3000次循环时开始下降",-1),a("figure",null,[a("img",{src:k,alt:"image-20240315171957416",loading:"lazy",decoding:"async"})],-1),a("p",null,"L1 Loss也在3000次时上升",-1),a("figure",null,[a("img",{src:x,alt:"image-20240315172209878",loading:"lazy",decoding:"async"})],-1),a("p",null,"grad l1（深度梯度）",-1),a("figure",null,[a("img",{src:P,alt:"image-20240315172234784",loading:"lazy",decoding:"async"})],-1),a("p",null,"train l1 loss在3000，6000,9000次明显上升",-1),a("figure",null,[a("img",{src:w,alt:"image-20240315172434923",loading:"lazy",decoding:"async"})],-1),a("p",null,"so，3000次开始的两个特殊设置： 1、重置透明度，每3000次进行一次",-1),a("p",null,"2、从3000次开始，透明度低于0.005的高斯核被剔除, view space中大于size_threshold被剔除，world space中大于cameras_extent被剔除",-1),a("h3",{id:"是否进行透明度重置的实验",tabindex:"-1"},[e("是否进行透明度重置的实验 "),a("a",{class:"header-anchor",href:"#是否进行透明度重置的实验","aria-label":'Permalink to "是否进行透明度重置的实验"'},"​")],-1),a("figure",null,[a("img",{src:N,alt:"image-20240315171244777",loading:"lazy",decoding:"async"})],-1),a("p",null,"psnr：进行重置psnr时test的PSNR表现更好",-1),a("figure",null,[a("img",{src:S,alt:"image-20240315171112343",loading:"lazy",decoding:"async"})],-1),a("p",null,"depth_loss(SSI): 不进行透明度reset会导致train SSI loss无法下降",-1),a("figure",null,[a("img",{src:B,alt:"image-20240315171233669",loading:"lazy",decoding:"async"})],-1),a("p",null,"所以透明度重置不应该被删除",-1),a("h3",{id:"关于去除-删除超大高斯-这一功能的的实验",tabindex:"-1"},[e("关于去除“删除超大高斯”这一功能的的实验 "),a("a",{class:"header-anchor",href:"#关于去除-删除超大高斯-这一功能的的实验","aria-label":'Permalink to "关于去除“删除超大高斯”这一功能的的实验"'},"​")],-1),a("p",null,"well，这下psnr好看了，深度图也合理了，唯独椭圆们……",-1),a("p",null,"黄色：不去除超大高斯",-1),a("figure",null,[a("img",{src:D,alt:"image-20240315175654257",loading:"lazy",decoding:"async"})],-1),a("p",null,"修改前的深度图：",-1),a("img",{src:$,alt:"image-20240315175846025",style:{zoom:"33%"}},null,-1),a("p",null,"修改后的深度图：",-1),a("img",{src:v,alt:"image-20240315175727120",style:{zoom:"33%"}},null,-1),a("p",null,"修改后的椭圆：",-1),a("img",{src:R,alt:"image-20240315175250543",style:{zoom:"80%"}},null,-1),a("p",null,"修改前的椭圆：",-1),a("img",{src:C,alt:"image-20240315175949889",style:{zoom:"80%"}},null,-1),a("p",null,"即使PSNR变好了，这些椭圆也不是该有的样子不是吗，来看看all views",-1),a("img",{src:G,alt:"image-20240315180133640",style:{zoom:"80%"}},null,-1),a("p",null,"也就是说，这些“floater”一定程度上帮助了图像质量和深度质量的提高，直接对floater进行裁剪有点砍到大动脉了（尤其是第3000次，也就是首次去除大高斯核），让loss无法合理的优化到正确的地方",-1),a("p",null,"兴许一开始就不该让这些floater出现",-1),a("p",null,"另外观察到，如果使用原始的超参设置（3w次迭代，1.5w次后不再进行densification和透明度重置,超大高斯剔除,透明高斯剔除），psnr会越来越低，但深度会被逐渐优化",-1),a("h2",{id:"_2024-3-16",tabindex:"-1"},[e("2024.3.16 "),a("a",{class:"header-anchor",href:"#_2024-3-16","aria-label":'Permalink to "2024.3.16"'},"​")],-1),a("h3",{id:"今日的突发奇想-在前x轮只训练xyz-先让高斯球分布到合理的深度-当然最好是物体表面-再进行细节的修正",tabindex:"-1"},[e("今日的突发奇想：在前x轮只训练xyz，先让高斯球分布到合理的深度（当然最好是物体表面），再进行细节的修正 "),a("a",{class:"header-anchor",href:"#今日的突发奇想-在前x轮只训练xyz-先让高斯球分布到合理的深度-当然最好是物体表面-再进行细节的修正","aria-label":'Permalink to "今日的突发奇想：在前x轮只训练xyz，先让高斯球分布到合理的深度（当然最好是物体表面），再进行细节的修正"'},"​")],-1),a("p",null,"只解锁μ，感觉怪怪的",-1),a("p",null,[e("既然是物体表面，透明度先改为0.9吧（0.1试过了效果很差） "),a("img",{src:U,alt:"image-20240316155229698"})],-1),a("p",null,"出现了奇怪的连续的椭圆，似乎是沿着相机向后推的",-1),a("p",null,"我觉得应该修正思路，不仅仅只改变xyz，实际上可以归结为我想要先训练图像的geometry，因此xyz、scaling和q的梯度都应该被解放",-1),a("p",null,"感觉有点希望，geometry好像还不错",-1),a("figure",null,[a("img",{src:M,alt:"image-20240316164913933",loading:"lazy",decoding:"async"})],-1),a("p",null,"这些策略和深度损失有很大关系，好好研究下深度损失的定义吧",-1),a("h2",{id:"_2024-3-18",tabindex:"-1"},[e("2024.3.18 "),a("a",{class:"header-anchor",href:"#_2024-3-18","aria-label":'Permalink to "2024.3.18"'},"​")],-1),a("p",null,"开始意识到只有前景有高斯是不行的，这不能有效的指导后续的高斯合成，这会导致后续背景合成在摄像机前形成floater，我应该怎么样使用深度图让前景和背景都有高斯点的分布呢",-1),a("blockquote",null,[a("p",null,"但是这样的话某些合成数据集怎么办，那些背景高斯？")],-1),a("img",{src:A,alt:"image-20240318195817687",style:{zoom:"50%"}},null,-1),a("p",null,"比如这一块，这是稀疏视角中第一张图独有的部分，在深度指导的合成时这里也没有高斯分布，导致后续这里形成位置不正确的伪影",-1),a("h2",{id:"_2024-3-27",tabindex:"-1"},[e("2024.3.27 "),a("a",{class:"header-anchor",href:"#_2024-3-27","aria-label":'Permalink to "2024.3.27"'},"​")],-1),a("p",null,"对线性插值深度做实验，一个是fgsg的反向传播，一个是直接+p_z的反向传播",-1),a("figure",null,[a("img",{src:L,alt:"image-20240328132222444",loading:"lazy",decoding:"async"})],-1),a("p",null,"+p_z的psnr表现更好，但是训练时长增加了三倍，先用FGSG的实验，以后刷点再用pz吧",-1),a("p",null,"后续发现是误会，还是p_z好，只是当时卡被占用了，训练时间没什么差别的",-1),a("h2",{id:"_2024-3-28",tabindex:"-1"},[e("2024.3.28 "),a("a",{class:"header-anchor",href:"#_2024-3-28","aria-label":'Permalink to "2024.3.28"'},"​")],-1),a("p",null,"尝试颜色也使用线性插值（linear_color），出现了神奇的超远背景",-1),a("figure",null,[a("img",{src:J,alt:"image-20240328205135172",loading:"lazy",decoding:"async"})],-1),a("h2",{id:"_2024-4-2",tabindex:"-1"},[e("2024.4.2 "),a("a",{class:"header-anchor",href:"#_2024-4-2","aria-label":'Permalink to "2024.4.2"'},"​")],-1),a("p",null,"发现还是不需要停止致密化策略，特别是透明度重置对提升测试集的psnr有很明显的效果，将until改回9500",-1),a("p",null,"发现不正确的透明度对画面有很大的影响，比如恐龙右边的小恐龙头往往是透明的，导致背景合成黑色的部分来合成黑色的小恐龙，在其他视角就看到了黑团，右边的黄色画板也有同样的现象",-1),a("p",null,"第一个实验，从GaussianShader里偷了透明度稀疏正则化，正则透明度朝向0或者1",-1),a("h2",{id:"_2024-7-16",tabindex:"-1"},[e("2024.7.16 "),a("a",{class:"header-anchor",href:"#_2024-7-16","aria-label":'Permalink to "2024.7.16"'},"​")],-1),a("img",{src:T,alt:"image-20240717150730592",style:{zoom:"50%"}},null,-1),a("p",null,"在服务器上能练的只有18A 14C",-1),a("p",null,"本地只有14A",-1),a("figure",null,[a("img",{src:I,alt:"image-20240717150751455",loading:"lazy",decoding:"async"})],-1),a("p",null,"效果不好",-1),a("h2",{id:"_2024-7-17",tabindex:"-1"},[e("2024.7.17 "),a("a",{class:"header-anchor",href:"#_2024-7-17","aria-label":'Permalink to "2024.7.17"'},"​")],-1),a("p",null,"发现分类为0（即未分类）的太多了，这是因为视频跟踪模型中本来就有0这个类，表示没有成功跟踪的，尝试不使用他们作为训练集，但是这样确实一些未分类的高斯就会被分到某一个比较多的类，考虑使用平滑？",-1),a("p",null,"只用color的分类结果几乎没法看",-1),a("h3",{id:"with-smooth-0-lr-0-01-minkunet18a-all-eps-0-2",tabindex:"-1"},[e("with_smooth_0_lr_0.01_MinkUNet18A_all_eps=0.2： "),a("a",{class:"header-anchor",href:"#with-smooth-0-lr-0-01-minkunet18a-all-eps-0-2","aria-label":'Permalink to "with_smooth_0_lr_0.01_MinkUNet18A_all_eps=0.2："'},"​")],-1),a("p",null,"17：",-1),a("img",{src:F,alt:"image-20240717174812942",style:{zoom:"67%"}},null,-1),a("p",null,"32：",-1),a("img",{src:H,alt:"image-20240717174801389",style:{zoom:"67%"}},null,-1),a("p",null,"33：",-1),a("img",{src:V,alt:"image-20240717174841456",style:{zoom:"67%"}},null,-1),a("h3",{id:"with-smooth-0-lr-0-01-minkunet18a-all-eps-0-1",tabindex:"-1"},[e("with_smooth_0_lr_0.01_MinkUNet18A_all_eps=0.1： "),a("a",{class:"header-anchor",href:"#with-smooth-0-lr-0-01-minkunet18a-all-eps-0-1","aria-label":'Permalink to "with_smooth_0_lr_0.01_MinkUNet18A_all_eps=0.1："'},"​")],-1),a("p",null,"17：",-1),a("img",{src:W,alt:"image-20240717172840806",style:{zoom:"67%"}},null,-1),a("p",null,"32：",-1),a("img",{src:j,alt:"image-20240717175332149",style:{zoom:"67%"}},null,-1),a("p",null,"33：",-1),a("img",{src:q,alt:"image-20240717172857682",style:{zoom:"67%"}},null,-1),a("p",null,[e("36: "),a("img",{src:O,alt:"image-20240717172906683",style:{zoom:"67%"}})],-1),a("p",null,"49：",-1),a("img",{src:X,alt:"image-20240717173539848",style:{zoom:"67%"}},null,-1),a("h3",{id:"with-smooth-0-lr-0-01-minkunet18a-all",tabindex:"-1"},[e("with_smooth_0_lr_0.01_MinkUNet18A_all "),a("a",{class:"header-anchor",href:"#with-smooth-0-lr-0-01-minkunet18a-all","aria-label":'Permalink to "with_smooth_0_lr_0.01_MinkUNet18A_all"'},"​")],-1),a("p",null,"17：",-1),a("img",{src:E,alt:"image-20240717173259290",style:{zoom:"67%"}},null,-1),a("p",null,"33：",-1),a("img",{src:Y,alt:"image-20240717173331420",style:{zoom:"67%"}},null,-1),a("p",null,"36：",-1),a("img",{src:Z,alt:"image-20240717173346763",style:{zoom:"67%"}},null,-1),a("p",null,"49：",-1),a("img",{src:K,alt:"image-20240717173553536",style:{zoom:"67%"}},null,-1),a("h3",{id:"安装pytorch3d",tabindex:"-1"},[e("安装pytorch3d "),a("a",{class:"header-anchor",href:"#安装pytorch3d","aria-label":'Permalink to "安装pytorch3d"'},"​")],-1),a("p",null,"cd到那个文件夹，然后python setup.py",-1)])]),"main-header":l(()=>[s(n.$slots,"main-header")]),"main-header-after":l(()=>[s(n.$slots,"main-header-after")]),"main-nav":l(()=>[s(n.$slots,"main-nav")]),"main-content-before":l(()=>[s(n.$slots,"main-content-before")]),"main-content":l(()=>[s(n.$slots,"main-content")]),"main-content-after":l(()=>[s(n.$slots,"main-content-after")]),"main-nav-before":l(()=>[s(n.$slots,"main-nav-before")]),"main-nav-after":l(()=>[s(n.$slots,"main-nav-after")]),comment:l(()=>[s(n.$slots,"comment")]),footer:l(()=>[s(n.$slots,"footer")]),aside:l(()=>[s(n.$slots,"aside")]),"aside-custom":l(()=>[s(n.$slots,"aside-custom")]),default:l(()=>[s(n.$slots,"default")]),_:3},8,["frontmatter"])}}};export{da as default,Q as usePageData};
